package com.savvasdalkitsis.locationexploit

import android.app.Activity
import android.content.Intent
import android.os.Environment
import android.provider.MediaStore
import android.support.v4.content.FileProvider
import java.io.File
import java.util.*

object CameraRequest {

    fun askForPhoto(activity: Activity, imageRequest: Int): String = with(activity) {
        val dir = getExternalFilesDir(Environment.DIRECTORY_PICTURES)
        val picture = File(dir, UUID.randomUUID().toString())
        val photoUri = FileProvider.getUriForFile(this, "com.savvasdalkitsis.fileprovider", picture)
        val photoIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)
        photoIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoUri)
        startActivityForResult(photoIntent, imageRequest)
        return picture.absolutePath
    }
}